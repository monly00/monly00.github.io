<!DOCTYPE html><html> <head> <meta charset="utf-8"> <title>A</title><style>#editor{background-color:#fffff7;color:#101010;box-sizing:border-box;width:100%;height:100%}#main-menu,#sub-menu,#sub-menu li.menu-item a{background-color:ivory}.menu-layer{font-family:sans-serif;font-size:12px}#main-menu li.menu-item a{text-decoration:none;background-color:ivory;color:#888880;transition:color .1s}#main-menu li.menu-item a:hover{color:#000}#sub-menu li.menu-item a{text-decoration:none;color:#333330;border-radius:0;transition:background-color .1s,color .1s,border-radius 60s}#sub-menu li.menu-item a:active,#sub-menu li.menu-item a:hover{background-color:#f0efd0;color:#000;border-radius:15px}#textarea{padding-left:30px;padding-top:10px;background-color:#fffff7;color:#101010;font-family:monospace;font-size:14px}#status-bar{background-color:#827e62;color:#fff;font-family:monospace;font-size:12px;line-height:20px}.prompt{border:1px dotted #333}#textarea,.prompt #prompt-input{border:none;outline:0;resize:none}#prompt-input,#prompt-results li:nth-child(even){background-color:#fcf8ec}#prompt-results li:nth-child(odd){background-color:#ece8dc}#prompt-results li a:active,#prompt-results li a:hover{background-color:#b0af90;color:#fffff5}#main-wrapper,body,html{margin:0;padding:0;width:100%;height:100%;min-width:650px}.wrapper{margin:0;padding:0}.menu-layer{width:100%;height:30px;white-space:nowrap}.menu-layer ul{list-style-type:none;margin:0;padding:0;height:100%}.menu-layer li.menu-item{margin:0;padding:0;float:left;height:100%}.menu-layer li.menu-item a{padding:5px 20px;text-align:center;line-height:20px;display:block}#prompt-results li a,.prompt #prompt-input{font-size:24px;box-sizing:border-box;padding:0 20px}#textarea-wrapper{height:calc(100% - 80px)}#textarea{width:100%;height:100%;box-sizing:border-box}#status-bar{position:fixed;bottom:0;left:0;right:0;height:20px;padding:0 5px}.prompt{position:fixed;min-height:50px;width:600px;top:50%;left:50%;transform:translate(-50%,-50%)}.prompt #prompt-input{width:100%;height:50px}#prompt-results{list-style-type:none;margin:0;padding:0;width:100%}#prompt-results li{margin:0;padding:0;width:100%;height:50px}#prompt-results li a{font-family:sans-serif;text-decoration:none;background-color:transparent;color:#333330;width:100%;height:100%;line-height:50px;display:block}#prompt{display:none}</style></head> <body> <div id="main-wrapper" class="wrapper"> <div id="editor" class="wrapper"> <div id="main-menu" class="menu-layer"> <ul> <li id="main-menu-file" class="menu-item"> <a href="#">File</a> </li><li id="main-menu-edit" class="menu-item"> <a href="#">Edit</a> </li><li id="main-menu-find" class="menu-item"> <a href="#">Find</a> </li><li id="main-menu-view" class="menu-item"> <a href="#">View</a> </li><li id="main-menu-tools" class="menu-item"> <a href="#">Tools</a> </li><li id="main-menu-help" class="menu-item"> <a href="#">Help</a> </li></ul> </div><div id="sub-menu" class="menu-layer"> <ul></ul> </div><div id="textarea-wrapper" class="wrapper"> <textarea id="textarea" placeholder="empty">The Game.</textarea> </div><div id="status-bar">You just lost the game</div><div class="prompt" id="prompt"> <input type="text" id="prompt-input"> <ul id="prompt-results"> <li><a href="#">Save As</a></li></ul> </div></div></div><script>Math.TAU=Math.PI*2;if(typeof($)==="undefined"){var $=(selector)=>{return document.querySelector(selector)}}
var editor=$("#editor");var statusBar=$("#status-bar");var textarea=$("#textarea");window.onload=function(){editorInit()};var title="A";document.title=title;var indentationKeys={9:"\t"};function bindKeysToElement(element,keybindings,insertionFunction,ctrl){element.addEventListener("keydown",function(e){if(ctrl===!1||e.ctrlKey){var action=keybindings[e.keyCode];if(typeof(action)==="function"){action();e.preventDefault()}
else if(typeof(action)!="undefined"){insertionFunction(element,action.toString());e.preventDefault()}}})}
function insertAtCaretPosition(element,text){var start=element.selectionStart;var end=element.selectionEnd;var value=element.value;element.value=value.substring(0,start)+text+value.substring(end);element.selectionStart=element.selectionEnd=start+text.length}
function editorInit(){bindKeysToElement(textarea,indentationKeys,insertAtCaretPosition,!1);bindKeysToElement(editor,menu.shortcuts,()=>{},!0);textarea.focus()}
var fileman={"prefix":"AA","uuid":"6df2b13b-b747-4240-81cd-34da1cc1f379","localStorageSupport":(typeof(Storage)=="undefined")?!1:!0,"newFile":function(filename){localStorage.setItem(this.prefix+this.uuid+"/"+filename,"")},"loadFile":function(filename){return localStorage.getItem(this.prefix+this.uuid+"/"+filename)},"saveFile":function(filename,data){localStorage.setItem(this.prefix+this.uuid+"/"+filename,data)},"currentFile":"untitled.txt"};var menu={"file":{"new":{"label":"New","action":()=>{menu.showPrompt("filename",{"new":{"label":"Create New File","callback":()=>{var filename=$("#prompt-input").value;fileman.newFile(filename);fileman.currentFile=filename;textarea.value="";document.title=filename+" - "+title;menu.hidePrompt()}}})}},"open":{"label":"Open","action":()=>{menu.showPrompt("filename",{"open":{"label":"Open File","callback":()=>{var filename=$("#prompt-input").value;textarea.value=fileman.loadFile(filename);fileman.currentFile=filename;document.title=filename+" - "+title;menu.hidePrompt()}}})}},"save":{"label":"Save","action":()=>{fileman.saveFile(fileman.currentFile,textarea.value)}},"saveAs":{"label":"Save As","action":()=>{menu.showPrompt("filename",{"saveAs":{"label":"Save File","callback":()=>{var filename=$("#prompt-input").value;fileman.saveFile(filename,textarea.value);fileman.currentFile=filename;document.title=filename+" - "+title;menu.hidePrompt()}}})}},"download":{"label":"Download","action":()=>{menu.showPrompt("filename",{"downloadTxt":{"label":"Download as Plain Text","callback":()=>{var filename=$("#prompt-input").value;var a=document.createElement("a");a.setAttribute("href","data:application/octet-stream;charset=utf-8,"+encodeURIComponent(textarea.value));a.setAttribute("download",filename)
if(document.createEvent){var event=document.createEvent('MouseEvents');event.initEvent('click',!0,!0);a.dispatchEvent(event)}
else{a.click()}
menu.hidePrompt()}}});$("#prompt-input").value=fileman.currentFile}},"close":{"label":"Close","action":()=>{fileman.currentFile="untitled.txt";textarea.value=""}},"quit":{"label":"Quit","action":()=>{document.write("Bye.")}}},"edit":{"undo":{"label":"Undo","action":()=>{document.execCommand("undo")}},"redo":{"label":"Redo","action":()=>{document.execCommand("redo")}},"copy":{"label":"Copy","action":()=>{document.execCommand("copy")}},"cut":{"label":"Cut","action":()=>{document.execCommand("cut")}},"paste":{"label":"Paste","action":()=>{document.execCommand("paste")}},"indent":{"label":"Indent","action":undefined},"unindent":{"label":"Unindent","action":undefined},"preferences":{"label":"Preferences","action":undefined}},"find":{"find":{"label":"Find","action":()=>{menu.showPrompt("string",{"find":{"label":"Find in Document","callback":()=>{menu.hidePrompt();find($("#prompt-input").value)}}})}},"replace":{"label":"Replace","action":undefined},"todo":{"label":"To do","action":()=>{find("TODO")}}},"view":{"statusBar":{"label":"Status Bar","action":undefined},"wordCount":{"label":"Word Count","action":undefined},"font":{"label":"Font","action":()=>{menu.showPrompt("value",{"size":{"label":"Set fontSize","callback":()=>{textarea.style.fontSize=$("#prompt-input").value;menu.hidePrompt()}},"family":{"label":"Set fontFamily","callback":()=>{textarea.style.fontFamily=$("#prompt-input").value;menu.hidePrompt()}}})}},"theme":{"label":"Theme","action":()=>{alert("I'll do a dark theme sometime.")}}},"tools":{"dictionary":{"label":"Dictionary","action":()=>{menu.showPrompt("word",{"dictLookup":{"label":"Search Dictionary","callback":()=>{window.open("http://www.dictionary.com/browse/"+$("#prompt-input").value);menu.hidePrompt()}},"thesLookup":{"label":"Search Thesaurus","callback":()=>{window.open("http://www.thesaurus.com/browse/"+$("#prompt-input").value);menu.hidePrompt()}}})}},},"help":{"help":{"label":"Help","action":()=>{menu.showPrompt("it's just a prank bro",{"searchHelp":{"label":"Search Help","callback":()=>{alert("help doesn't exist");menu.hidePrompt()}}})}},"about":{"label":"About","action":()=>{alert("Ollie Perree 2016-17")}}}};menu.shortcuts={};menu.showSubMenu=function(menuObject){$("#sub-menu").style.display="block";var list=$("#sub-menu ul");list.innerHTML="";for(var item in menuObject){var label=menuObject[item].label;var action=menuObject[item].action;var li=document.createElement("li");li.id="sub-menu-"+item;li.className="menu-item";li.innerHTML=`<a href="#">${label}</a>`
list.appendChild(li);li.onclick=action}}
menu.showPrompt=function(placeholder,optionsObject){$("#prompt").style.display="block";var results=$("#prompt-results");var input=$("#prompt-input");input.placeholder=placeholder;input.value="";input.focus();results.innerHTML="";for(var item in optionsObject){var label=optionsObject[item].label;var callback=optionsObject[item].callback;var li=document.createElement("li");li.id="prompt-results-"+item;li.innerHTML=`<a href="#">${label}</a>`;results.appendChild(li);li.onclick=callback}}
$("#main-menu-file").addEventListener("click",function(){menu.showSubMenu(menu.file)});$("#main-menu-edit").addEventListener("click",function(){menu.showSubMenu(menu.edit)});$("#main-menu-find").addEventListener("click",function(){menu.showSubMenu(menu.find)});$("#main-menu-view").addEventListener("click",function(){menu.showSubMenu(menu.view)});$("#main-menu-tools").addEventListener("click",function(){menu.showSubMenu(menu.tools)});$("#main-menu-help").addEventListener("click",function(){menu.showSubMenu(menu.help)});menu.hidePrompt=function(){$("#prompt").style.display="none"}
menu.showSubMenu(menu.file)</script></body></html>
